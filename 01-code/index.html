<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /*
         Promise对象代表异步操作,有三种状态;pending(进行中),function(已成功)和rejected(已失败)
         */
        let promise = new Promise(function (resolve, reject) {
            if (false) {  //true/false
                resolve(1)
            } else {
                reject(0)
            }
        })
        promise.then(res => console.log('成功'), err => console.log('失败'))

        //ajax请求
        const jqueryAjax = (type, url, data) => {
            return new Promise(function (resolve, reject) {
                $.ajax({
                    url,
                    data,
                    type,
                    success: data => {
                        resolve(data)
                    },
                    error (err) {
                        reject(err)
                    }
                })
            })
        }
        jqueryAjax("POST", "/add", { useranme }).then(function (data) {
            console.log(data)
        }, function (err) {
            console.log(data)
        })
        const ja = (type, url, data) => {
            return new Promise(function (resolve, reject) {
                $.ajax({
                    url,
                    data,
                    type,
                    success (data) {
                        resolve(data)
                    },
                    error (err) {
                        reject(err)
                    }
                })
            })
        }
        //时间函数

    </script>
</body>

</html>